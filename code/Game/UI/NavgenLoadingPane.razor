@using System
@using System.Collections.Generic
@using System.Linq
@using BrickJam.Map;
@using BrickJam.Player
@using Sandbox;
@using Sandbox.UI;
@inherits Panel

<root>
    Generating Level...

    <i>autorenew</i>
</root>

@code
{

    NavGenComponent NavGen;

    public static bool Loading = false;

    public override void Tick()
    {
        NavGen ??= GameManager.ActiveScene.GetAllObjects( true ).Where( X => X.GetComponent<NavGenComponent>() != null ).FirstOrDefault().GetComponent<NavGenComponent>();
        Loading = !(NavGen?.Initialized ?? false);
        SetClass( "hidden", !Loading );
    }
    

    protected override int BuildHash()
    {
        return HashCode.Combine( Time.Now );
    }
}