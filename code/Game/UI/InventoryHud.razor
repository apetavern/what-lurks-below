@using System
@using System.Collections.Generic
@using BrickJam.Player
@using Sandbox;
@using Sandbox.UI;
@inherits PanelComponent

<root>
    <HealthHud />
    <InventoryPane Inventory=@Inventory />
    <ControlsPane />
    <NavgenLoadingPane />
</root>

@code
{
    public bool IsOpen { get; set; }
    
    public Inventory Inventory { get; set; }
    
    public static InventoryHud Instance { get; set; }

    public InventoryHud()
    {
        Instance = this;
    }

    public void SetInventory(Inventory inventory)
    {
        Inventory = inventory;
    }
    
    public override void Update()
    {
        base.Update();

        if (Input.Pressed("Inventory"))
        {
            IsOpen = !IsOpen;

            InventoryActionMenu.Instance?.Destroy();
            Minimap.Instance.Enabled = IsOpen;
        }
        
        Panel.SetClass("open", IsOpen);
    }

    protected override int BuildHash() => HashCode.Combine( Time.Now );
}